<div class="main" fxLayout="column" fxLayoutGap="20px">

    <mat-card>
        <mat-tab-group>
            <mat-tab label="Form Values">
                <pre> {{modelForm.value | json}}</pre>
            </mat-tab>
            <mat-tab label="Value Changes">
                <pre> {{valueChanges$ | async | json}}</pre>
            </mat-tab>
            <mat-tab label="Model Status">
                <pre> {{modelForm.status }}</pre>
            </mat-tab>
        </mat-tab-group>
    </mat-card>

    <h1>Postman Client</h1>

    <mat-card>

        <mat-card-content>

            <form [formGroup]="modelForm" fxLayout="column" fxLayoutGap="30px">

                <mat-form-field>
                    <mat-select formControlName="method" placeholder="Select Http Method">
                        <mat-option *ngFor="let method of methods$ | async" [value]="method.value">
                            {{ method.value }}
                        </mat-option>
                    </mat-select>
                </mat-form-field>

                <span></span>
                <mat-radio-group fxLayoutGap="5px">
                    <mat-radio-button color="primary" *ngFor="let method of methods$ | async" [value]="method?.value">
                        {{method?.value}}
                    </mat-radio-button>
                </mat-radio-group>

                <mat-form-field>
                    <input matInput formControlName="url" placeholder="Url">
                </mat-form-field>

            </form>

            <mat-tab-group>
                <mat-tab label="Headers">
                    <h3>Headers</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Key</th>
                                <th>Value</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let headers of headers$ | async">
                                <td>{{request?.url}}</td>
                                <td>{{request?.url}}</td>
                            </tr>
                        </tbody>
                    </table>
                </mat-tab>
                <mat-tab label="Body">
                    <h3>Body</h3>
                </mat-tab>
                <mat-tab label="Parameters">
                    <h3>Parameters</h3>
                </mat-tab>
            </mat-tab-group>

        </mat-card-content>
        <mat-card-actions>
            <button mat-button (click)="onSubmit()" color="primary">
                <mat-icon>save</mat-icon> Submit</button>
        </mat-card-actions>
    </mat-card>

    <mat-card>
        <mat-card-header>
            <mat-card-title>Results</mat-card-title>
        </mat-card-header>
        <pre>{{modelForm.value.results}}</pre>
    </mat-card>

</div>